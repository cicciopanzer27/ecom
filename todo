### 1.1 DOMINIO E HOSTING
### 1.2 WORDPRESS CORE SETUP
### 2.1 SETUP WOOCOMMERCE BASE
### 2.2 METODI PAGAMENTO
### 2.3 SPEDIZIONI
### 3.1 TEMA E PERSONALIZZAZIONI
### 3.2 HOMEPAGE DESIGN
### 3.3 PAGINE PRODOTTO
### 4.1 PAGINE ISTITUZIONALI
### 4.2 DESCRIZIONI PRODOTTI
### 4.3 SCHEDE TECNICHE
### 5.1 SEO ON-PAGE
### 5.2 TECHNICAL SEO
### 5.3 SCHEMA MARKUP
### 6.1 EMAIL MARKETING
### 6.2 RECENSIONI E SOCIAL PROOF
### 6.3 ANALYTICS E TRACKING
### 7.1 CACHE E PERFORMANCE
### 7.2 SICUREZZA AVANZATA
# CHECKLIST TECNICA E-COMMERCE NURA (AGGIORNATA)

Questa versione della checklist è adattata allo stato attuale del repository (frontend React + backend Express minimal) e contiene sia le attività orientate a WordPress/WooCommerce (per il cliente che volesse la versione WP) sia le attività per il deployment della versione headless/React che abbiamo predisposto.

Stato attuale (sintesi):
- Frontend: Vite + React con UI completa (prodotti, carrello, checkout simulated -> ora POST reale a `/api/orders`).
- Backend: Express minimale implementato in `server/` (prodotti seed, ordini, lowdb JSON store).
- CI: workflow base aggiunto `.github/workflows/ci.yml`.
- Container: Dockerfile frontend + server + `docker-compose.yml` aggiunti.

Legenda: [DONE] completato | [IN-PROGRESS] in corso | [TODO] da fare | [BLOCKED] serve info cliente

---

## FASE A: READY-TO-DEPLOY (FRONTEND + BACKEND)

1) Preparazione ambiente e repository
- [DONE] `.gitignore` aggiunto
- [DONE] `DEPLOY.md` aggiunto con istruzioni
- [DONE] `Dockerfile` (frontend) e `server/Dockerfile` aggiunti
- [DONE] `docker-compose.yml` aggiunto
- [DONE] CI workflow base `.github/workflows/ci.yml`

2) Backend
- [DONE] Express API: `GET /api/products`, `POST /api/orders`, `GET /api/orders/:id`
- [DONE] `server/.env.example` creato
- [DONE] `server/uploads` static serve (copiare immagini qui)
- [DONE] DB dev: `lowdb` JSON (file `server/data/nura.json`) per sviluppo
- [TODO] Migrare a DB di produzione (Postgres / managed) e aggiungere migrazioni
- [TODO] Validazione payload (es. zod/express-validator) e rate limiting
- [TODO] Logging & error tracking (Sentry)
- [TODO] Backup strategy per DB in produzione

3) Frontend
- [DONE] `vite.config.js` proxy `/api` -> `http://localhost:4000`
- [DONE] `Products.jsx` fetch prodotti da API
- [DONE] `App.jsx` checkout POST a `/api/orders`
- [TODO] Ottimizzazione immagini (WebP, compressione)
- [TODO] SEO: meta dinamici, sitemap, prerender/SSR se necessario

4) Security & secrets
- [DONE] Gestione env/secret in CI e hosting (never commit secrets) — added `.env.example`, `SECURITY.md`, and `DEPLOY.md` notes
- [DONE] HTTPS e dominio (Cloudflare recommended) — guidance added to `DEPLOY.md`
- [TODO] Add secret-scanning to CI (trufflehog / secretlint) to detect accidental commits
 - [DONE] Add secret-scanning to CI (gitleaks) and pre-commit hook (husky) to detect accidental commits
   - `.gitleaks.toml` added
   - `.github/workflows/ci.yml` updated to run gitleaks
   - Husky pre-commit hook `.husky/pre-commit` runs `pnpm run gitleaks`

5) Payments & Shipping (BLOCKED: serve dati cliente)
- [TODO/BLOCKED] Stripe integration (server-side): account, API keys, webhook, testing
- [TODO/BLOCKED] PayPal integration (credentials + IPN/webhooks)
- [TODO/BLOCKED] Shipping rates and zones configuration (business rules)

---

## FASE B: TESTING & QA

- [TODO] Unit tests (vitest) per componenti critici (cart logic) — minimo 2 test
- [TODO] Integration tests endpoint backend (supertest) — product list + order create
- [TODO] E2E (Playwright) smoke: user flow add-to-cart -> checkout
- [IN-PROGRESS] Smoke test manual: GET/POST eseguiti e funzionanti

---

## FASE C: DEPLOY

1) Staging
- [TODO] Deploy staging: backend (Render/Cloud Run) + frontend (Vercel/Netlify or serve static via CDN)
- [TODO] Setup domain + staging subdomain + SSL

2) Production
- [TODO] DB production (managed Postgres), migrazioni
- [TODO] Configurare backups, monitoring, alerting
- [TODO] Switch DNS e final checks

---

## FASE D: HANDOVER E DOCUMENTAZIONE

- [DONE] `DEPLOY.md` base
- [TODO] Manuale operazioni: start/stop, backup restore, migrate DB
- [TODO] Video/tutorial (opzionale)

---

## ESECUZIONI TEMPISTICHE STIMATE (PER LA VERSIONE HEADLESS)

- Setup Dev/CI/Docker: 1 giorno
- Migrazione a DB production + pagamenti: 2-3 giorni
- Test automatici & E2E: 1-2 giorni
- Deploy e go-live: 1 giorno

---

## AZIONI RACCOMANDATE IMMEDIATE (posso implementare ora)

1) Integrare Stripe test + webhook (server) e flusso checkout frontend (1 giorno)
2) Migrare DB a Postgres con Docker compose e creare migrazioni (1 giorno)
3) Aggiungere test unitari + e2e (1-2 giorni)
4) Preparare deploy su provider (Render/Vercel) con workflow CI/CD (mezza giornata)

---

Aggiorno il file `todo` nel repo con questa versione; dimmi se vuoi che proceda ad implementare subito una delle azioni raccomandate (io ti suggerisco Stripe test o migrazione DB come priorità).  

  - Login security (2FA)
  - IP blocking rules
  - Tempo: 2 ore

- [ ] **Backup automation**
  - UpdraftPlus schedule
  - Backup su cloud (Google Drive/Dropbox)
  - Database backup separato
  - Restore testing
  - Tempo: 1 ora

### 7.3 MONITORING
- [ ] **Uptime monitoring**
  - Pingdom o UptimeRobot
  - Alert email/SMS
  - Performance monitoring
  - Tempo: 30 minuti

---

## FASE 8: TESTING COMPLETO

### 8.1 FUNCTIONAL TESTING
- [ ] **Processo di acquisto**
  - Test carrello add/remove
  - Checkout completo con ogni payment
  - Test guest vs registered checkout
  - Email confirmation testing
  - Tempo: 3 ore

- [ ] **Responsive testing**
  - Desktop (1920px, 1366px)
  - Tablet (768px, 1024px)  
  - Mobile (375px, 414px)
  - Cross-browser (Chrome, Firefox, Safari)
  - Tempo: 2 ore

- [ ] **Performance testing**
  - Google PageSpeed Insights
  - GTmetrix full analysis
  - WebPageTest.org
  - Core Web Vitals check
  - Tempo: 1 ora

### 8.2 SECURITY TESTING
- [ ] **Security scan**
  - WPScan vulnerability check
  - SSL certificate validation
  - OWASP basic checks
  - Plugin vulnerability scan
  - Tempo: 1 ora

### 8.3 USER TESTING
- [ ] **Usability testing**
  - Task completion: trovare e acquistare prodotto
  - Navigation testing
  - Form submission testing
  - Mobile usability
  - Tempo: 2 ore

---

## FASE 9: DEPLOY E GO-LIVE

### 9.1 PRE-LAUNCH
- [ ] **Final checklist**
  - Backup completo staging
  - DNS propagation check
  - SSL certificate live
  - All forms working
  - Payment gateways live mode
  - Tempo: 2 ore

- [ ] **Content final check**
  - Spelling/grammar check
  - Image alt text completo
  - Contact info updated
  - Legal pages updated
  - Tempo: 1 ora

### 9.2 LAUNCH
- [ ] **DNS switch**
  - Puntamento dominio a hosting
  - Cloudflare DNS update
  - Redirect setup
  - Tempo: 30 minuti + propagazione

- [ ] **Post-launch checks**
  - Site accessibility check
  - Search engines submission
  - Social media updates
  - Google Analytics verification
  - Tempo: 1 ora

---

## FASE 10: POST-LAUNCH E HANDOVER

### 10.1 TRAINING CLIENTE
- [ ] **WordPress dashboard**
  - Gestione prodotti e stock
  - Elaborazione ordini
  - Gestione contenuti
  - Analytics basic reading
  - Tempo: 3 ore

- [ ] **Documentazione**
  - Manuale utente PDF
  - Video tutorial registrati
  - Troubleshooting common issues
  - Contact info support
  - Tempo: 4 ore

### 10.2 MONITORING SETUP
- [ ] **Daily/Weekly checks**
  - Uptime monitoring attivo
  - Backup verification
  - Security scan scheduling
  - Performance monitoring
  - Tempo: 1 ora setup

---

## RIEPILOGO TEMPI E MILESTONE

### TIMELINE COMPLETA: 6-8 SETTIMANE

**Settimana 1-2: Infrastructure & Core**
- Setup hosting, WordPress, WooCommerce
- Configurazioni base sicurezza e pagamenti
- 25 ore di lavoro

**Settimana 3-4: Design & Content**  
- Tema, design, homepage
- Pagine prodotto e contenuti
- 30 ore di lavoro

**Settimana 5-6: SEO & Advanced Features**
- Ottimizzazioni SEO, email marketing
- Analytics e social integration
- 25 ore di lavoro

**Settimana 7-8: Testing & Launch**
- Testing completo, deploy, training
- 15 ore di lavoro

**TOTALE ORE LAVORO: 95-110 ore**

### DELIVERABLE FINALI
- Sito e-commerce completo e funzionante
- Pannello admin configurato
- Documentazione e training
- 3 mesi supporto tecnico incluso
- Backup e security setup

---

## NOTE CRITICHE

### ATTENZIONI SPECIALI SETTORE ALIMENTARE
- Schema markup specifico per food products
- Informazioni nutrizionali obbligatorie UE
- Tracciabilità lotti (importante per controlli)
- Conformità HACCP nelle descrizioni

### GDPR COMPLIANCE
- Cookie consent banner
- Privacy policy specifica e-commerce
- Data retention policies
- Right to erasure implementation

### PERFORMANCE TARGETS
- PageSpeed Score > 90
- First Contentful Paint < 1.5s
- Largest Contentful Paint < 2.5s
- Cumulative Layout Shift < 0.1